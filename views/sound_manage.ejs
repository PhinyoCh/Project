<%- include('./sidebar.ejs')  -%> 

    <main class="mt-5 pt-3 ">
      <div class="container-fluid">
          <div class="row">
            <div class="card">
              <div class="card-header bg-dark">
                <h3 class="text-uppercase text-center text-white mt-4">sound manage</h3>
              </div>

              <div class="card-body">
                <div class="table-responsive">
                  <table id="table-sound-id" class="table" style="width: 100%">
                    <thead>                     
                      <tr>
                        <th class="text-center">NUMBER</th>
                        <th class="text-center">SOUND TYPE</th>
                        <th class="text-center">SOUND NAME</th>
                        <th class="text-center">SOUND DETAIL</th>
                        <th class="text-center">OPERACTION</th>
                      </tr>
                    </thead>
                    <tbody>
                      
                      <tr>
                        <td class="text-center">1</td>
                        <td class="text-center">Record File</td>
                        <td class="text-center">Looking for students</td>
                        <td class="text-center">ประกาศตามหา นายอิศเรศ ชายเสม ให้มาหาเพื่อนบ้าง อย่าไปหาแต่สาว</td>                 
                        <td class="text-center">
                          <button type="submit" name="edit" data-bs-toggle="modal" data-bs-target="#edit-modal" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                          <button type="submit" name="delete" data-bs-toggle="modal" data-bs-target="#delete-modal" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>    
                      </tr>
                      
                      <tr>
                        <td class="text-center">2</td>
                        <td class="text-center">Upload File</td>
                        <td class="text-center">Department of Music</td>
                        <td class="text-center">เพลงประจำภาควิชา ไว้สำหรับเปิดงานพิธีการ</td>                 
                        <td class="text-center">
                          <button type="submit" name="edit" data-bs-toggle="modal" data-bs-target="#edit-modal" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                          <button type="submit" name="delete" data-bs-toggle="modal" data-bs-target="#delete-modal" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>    
                      </tr>

                      <tr>
                        <td class="text-center">3</td>
                        <td class="text-center">Upload File</td>
                        <td class="text-center">Reminder to wear a mask</td>
                        <td class="text-center">เสียงแจ้งประกาศให้นักศึกษาสวมแมส ก่อนเข้าภาค</td>                 
                        <td class="text-center">
                          <button type="submit" name="edit" data-bs-toggle="modal" data-bs-target="#edit-modal" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                          <button type="submit" name="delete" data-bs-toggle="modal" data-bs-target="#delete-modal" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>    
                      </tr>

                      <tr>
                        <td class="text-center">4</td>
                        <td class="text-center">Record File</td>
                        <td class="text-center">Notify Students</td>
                        <td class="text-center">ประกาศแจ้ง นายอิทธิลักษณ์ เต็มรัตน์ หอเพื่อนอยู่ติดกันเลย ไม่ต้องไปนอนถึงคลอง 4 เพื่อนเป็นห่วง</td>                 
                        <td class="text-center">
                          <button type="submit" name="edit" data-bs-toggle="modal" data-bs-target="#edit-modal" class="btn btn-primary"><i class="fa fa-edit"></i>Edit</button>
                          <button type="submit" name="delete" data-bs-toggle="modal" data-bs-target="#delete-modal" class="btn btn-danger"><i class="fa fa-trash"></i>Delete</button>
                        </td>    
                      </tr>
                      
                      <div class="text-end">
                       <button type="submit" data-bs-toggle="modal" style="border-right-width: 0px;margin-right: 55px;" data-bs-target="#upload-modal" class="btn btn-primary"><i class="bi bi-upload"></i> Upload</button> 
                      </div>
                    </tbody> 
                  </table>
                </div>
              </div>
            </div>
          </div>
      </div>

      <!-- Modal Upload Button -->
      <div class="modal fade" id="upload-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Upload File</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form class="needs-validation" novalidate>
                <div class="modal-body">
                    <div class="form">
                        <div class="row">                    
                            <div class="col-md-12 mb-1">
                                <label for="filename" class="form-label">Filename</label>
                                <input type="text" class="form-control" id="input-filename" required >
                                <div class="invalid-feedback">
                                    Please Enter File Name.
                                </div>
                            </div>
                            <div class="col-md-12 mb-1">
                                <label for="filedetail" class="form-label">Detail</label>
                                <input type="text" class="form-control" id="input-filedetail" required >
                                <div class="invalid-feedback">
                                    Please Enter Detail File.
                                </div>
                            </div>                    
                        </div>
                        <div class="mb-3">
                            <label for="formFile" class="form-label">Please upload the audio file</label>
                            <input class="form-control" type="file" id="formFile"  required>
                            <div class="invalid-feedback">
                              Please Upload Sound File.
                          </div>
                        </div>                  
                    </div>                                   
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit-upload" class="btn btn-primary">Submit</button>
                </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Modal Edit Button -->
      <div class="modal fade" id="edit-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Edit Audio File</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form class="needs-validation" novalidate>
              <div class="modal-body">
                <div class="form">
                  <div class="row">                    
                    <div class="col-md-12 mb-1">
                      <label for="updatefile-name" class="form-label">File Name</label>
                      <input type="text" class="form-control" id="input-updatefilename" required >
                      <div class="invalid-feedback">
                        Please Enter User Name.
                      </div>
                    </div>                    
                  </div>
                  <div class="col-md-12">
                    <label for="detail-update" class="form-label">Detail</label>
                    <input type="text" class="form-control" id="input-updatedetail" required >
                    <div class="invalid-feedback">
                      Please Enter Detail.
                    </div>
                  </div>                  
                </div>                                   
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit-edit" class="btn btn-primary">Submit</button>
              </div>
            </form>
          </div>
        </div>
      </div>

      <!-- Modal Delete Button -->
      <div class="modal fade" id="delete-modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Delete Sound File</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form class="needs-validation" novalidate>
              <div class="modal-body">
                Do you want to delete this sound file?
              </div>  
              <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit-delfile" class="btn btn-danger">Delete</button>
              </div>
            </form>
          </div>
        </div>
      </div>      
    </main>
  </body>
</html>




<script src="/public/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.0.2/dist/chart.min.js"></script>
<script src="/public/js/jquery-3.5.1.js"></script>
<script src="/public/js/jquery.dataTables.min.js"></script>
<script src="/public/js/dataTables.bootstrap5.min.js"></script>
<script src="/public/js/script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap-switch-button@1.1.0/dist/bootstrap-switch-button.min.js"></script>
<link href="https://cdn.jsdelivr.net/gh/gitbrent/bootstrap-switch-button@1.1.0/css/bootstrap-switch-button.min.css" rel="stylesheet">

<script>
  var Feature = (function(){
      var dataTable = $('#table-sound-id').DataTable({
        language : {emptyTable: "ไม่พบข้อมูล"},
        searching: false,
        ordering: false,
        lengthChange: false,
        paging: false,
        bAutoWidth: false,
        info: false,
      })
      return {
          init: function(){

          },
          onSubmitAddUser:  function(){
            'use strict'

            // Fetch all the forms we want to apply custom Bootstrap validation styles to
            var forms = document.querySelectorAll('.needs-validation')
          
            // Loop over them and prevent submission
            Array.prototype.slice.call(forms)
              .forEach(function (form) {
                form.addEventListener('submit', function (event) {
                  if (!form.checkValidity()) {
                    event.preventDefault()
                    event.stopPropagation()
                  }
          
                  form.classList.add('was-validated')
                }, false)
              })
          },
      }
  })();

  jQuery(document).ready(function(){
      Feature.onSubmitAddUser();
  });

  

</script>

